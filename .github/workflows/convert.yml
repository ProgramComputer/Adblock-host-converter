name: convert
on: push
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner.
      - name: setup python
        uses: actions/setup-python@v2
        with:
          python-version: 3.8 #install the python needed
      - name: execute py script # run the run.py to get the latest data
        run: |
         ls -a
         readlink +f adlist_converter.py
         mkdir filtersTest
         cd filtersTest
         ls -a
         sudo python3 /adlist_converter.py "https://raw.githubusercontent.com/easylist/easylist/5008acc52f520fbf2a05377e1b95defc95165523/easylist/easylist_adservers.txt"
        env:
          key: ${{ secrets.key }} # if run.py requires passwords..etc, set it as secrets
